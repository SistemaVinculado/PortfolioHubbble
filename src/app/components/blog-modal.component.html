@if (post(); as p) {
<div role="dialog" aria-modal="true" [attr.aria-labelledby]="'blog-modal-title-' + p.title" class="fixed inset-0 z-50 flex items-center justify-center p-4">
    <div (click)="close.emit()" class="fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm transition-opacity duration-300 ease-in-out animate-fade-in"></div>
    <div class="relative w-full max-w-4xl max-h-[90vh] bg-white dark:bg-[#1C1A27] rounded-2xl shadow-xl overflow-y-auto transform transition-all duration-300 ease-in-out animate-slide-up-fade">
    <button (click)="close.emit()" aria-label="Close article" class="sticky top-4 right-4 z-20 p-2 ml-auto block mr-4 rounded-full text-gray-500 dark:text-gray-400 bg-white/50 dark:bg-black/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
        <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
    </button>
    <div class="p-6 sm:p-8 md:p-10 pt-0">
        <div class="text-center">
        <p class="text-sm font-semibold text-[#8A6B93] dark:text-purple-400">{{ p.category }}</p>
        <h3 [id]="'blog-modal-title-' + p.title" class="text-3xl md:text-4xl font-extrabold mt-2 text-[#292639] dark:text-white tracking-tighter">{{ p.title }}</h3>
        </div>
        <div class="flex items-center justify-center mt-6 space-x-4">
        <img [ngSrc]="p.authorAvatarUrl" [alt]="p.authorName" width="48" height="48" class="w-12 h-12 rounded-full object-cover">
        <div>
            <p class="font-semibold text-[#292639] dark:text-white">{{ p.authorName }}</p>
            <p class="text-sm text-gray-500 dark:text-gray-400">{{ p.date }} &middot; {{ p.readTime }} min read</p>
        </div>
        </div>
        <img [ngSrc]="p.imageUrl" [alt]="p.title" width="800" height="600" class="w-full h-64 md:h-80 object-cover rounded-2xl mt-8">
        <div class="mt-8 prose prose-lg dark:prose-invert max-w-none text-gray-600 dark:text-gray-300">
        @for (section of p.content; track $index) {
            @if (section.type === 'h2') {
            <h2>{{ section.text }}</h2>
            } @else {
            <p>{{ section.text }}</p>
            }
        }
        </div>
        <div class="mt-10 pt-8 border-t border-gray-200 dark:border-gray-700 flex flex-col sm:flex-row items-center justify-between gap-4">
        <h4 class="text-lg font-semibold text-[#292639] dark:text-white">Share this article</h4>
        <div class="flex items-center space-x-4">
            <a [href]="'https://twitter.com/intent/tweet?text=' + p.title" target="_blank" class="w-10 h-10 flex items-center justify-center rounded-full bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"/></svg>
            </a>
            <a [href]="'https://www.linkedin.com/shareArticle?mini=true&url=' + p.url + '&title=' + p.title" target="_blank" class="w-10 h-10 flex items-center justify-center rounded-full bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
            </a>
        </div>
        </div>
    </div>
    </div>
</div>
}